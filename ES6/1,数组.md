---
title: "数组array"
date: "2019-08-13"
permalink: "array"
---
## 数组的创建
推荐以下方式创建
```js
//空数组创建
const arr1 = [];
//of()方法
const arr1 = Array.of(3) // [3]
const arr2 = Array.of('3') // ['3']
//from()方法
const arr1 = Array.from({length: 3}) // [undefined, undefined, undefined]
```
不推荐 构造函数创建，会根据参数类型不一样，产生不同结果
```js
const arr1 = Array(3) // [empty × 3]
const arr2 = Array('3') // ["3"]
```
创建固定长度的 undefined 数组
```js
//Array.apply
Array.apply(null, {length: 4}) // [undefined, undefined, undefined, undefined]
// 将类数组对象转换为数组对象
Array.from({length: 4}) // [undefined, undefined, undefined, undefined]
//扩展运算符
[...Array(4)] // [undefined, undefined, undefined, undefined]
```
## map()
>map()方法创建一个新数组，不会改变原数组,其结果是该数组中的每个元素都调用一个提供的函数后返回的结果。
语法
```js
var new_array = arr.map(function callback(currentValue,index,array) {
 // Return element for new_array
},thisArg)
```
callback  
生成新数组元素的函数，使用三个参数：
- currentValue: callback 数组中正在处理的当前元素。  
- index可选 :callback 数组中正在处理的当前元素的索引。  
- array可选: callback  map 方法被调用的数组。  

thisArg可选 :执行 callback 函数时使用的this 值。


```js
var array1 = [1, 4, 9, 16];
// pass a function to map
const map1 = array1.map(x => x * 2);
console.log(map1);
// expected output: Array [2, 8, 18, 32]
```
## filter()
>filter() 方法创建一个新数组,不会改变原数组, 其包含通过所提供函数实现的测试的所有元素。返回 true 表示该元素通过测试，保留该元素，false 则不保留。

语法
```js
var newArray = arr.filter(callback(element,index,array),thisArg);
```
参数 __callback()__ 用来测试数组的每个元素的函数。返回 true 表示该元素通过测试，保留该元素，false 则不保留。
callback() 接受三个参数。   
- element:数组中当前正在处理的元素。  
- index(可选):正在处理的元素在数组中的索引。  
- array(可选):调用了 filter 的数组本身。  

__thisArg__ 执行 callback 时，用于 this 的值。

用例
```js
var words = ['spray', 'limit', 'elite', 'exuberant', 'destruction', 'present'];
const result = words.filter(word => word.length > 6);
console.log(result);// ["exuberant", "destruction", "present"]
```
