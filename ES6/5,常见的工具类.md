---
title: "数组的工具类"
date: "2019-08-14"
permalink: "array-tools"
---
## 1.1 检测是否为数组
isArray() 方法用于判断一个对象是否为数组。如果对象是数组返回 true，否则返回 false。
```js
const judgeArr=(arr)=>{
    if(Array.isArray(arr)){
        return true;        
    }else{
        return false;
    }    
}
var arr = [];
var str = "[]";
console.log(judgeArr(arr))  //true
console.log(judgeArr(str))  //false
```
## 1.2 数组去重
### set方法
简单数组去重>>>>对象不会去重,因为两个对象是引用类型，不会相等，可以把对象json字符串化
```js
//利用set将[1,2,2,3,5,4,5]转化成set数据,
var changeReArr=(arr)=>{
  //利用array from将set转化成数组类型
  return Array.from(new Set(arr));
  // 或者利用...扩展运算符将set中的值遍历出来重新定义一个数组,...是利用for...of遍历的
  //return [...new Set(arr)];
}
var arr = [1,2,2,3,5,4,5];
var arr1 = [{name:'1',age:"23"},{name:"1",age:"23"}];
console.log(changeReArr(arr));//[1, 2, 3, 5, 4]
console.log(changeReArr(arr1));//[{name:'1',age:"23"},{name:"1",age:"23"}]
```

对象去重,可以把对象json字符串化
```js
var changeReArr=(arr)=>{
  //利用array from将set转化成数组类型
  //return Array.from(new Set(arr.map(v => JSON.stringify(v))))
          //.map(v=>JSON.parse(v));  
  // 或者利用...扩展运算符将set中的值遍历出来重新定义一个数组,...是利用for...of遍历的
  return [...new Set(arr.map(v => JSON.stringify(v)))].map(v=>JSON.parse(v));

}
var arr1 = [{name:"1",age:"23"},{name:"1",age:"23"}];
console.log(changeReArr(arr1));//[{name:"1",age:"23"}]
```
